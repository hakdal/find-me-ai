{"dependencies":[{"name":"./errors.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":40,"index":40}}],"key":"sBFAilsnlkNTfGhyvhhjLjsyBXM=","exportNames":["*"],"imports":1}},{"name":"./valueToKey.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":41},"end":{"line":2,"column":41,"index":82}}],"key":"E63fgZPvFpLv8oMcZVRZDin1bWs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _errorsJs = require(_dependencyMap[0], \"./errors.js\");\n  var _valueToKeyJs = require(_dependencyMap[1], \"./valueToKey.js\");\n  var valueToKey = _interopDefault(_valueToKeyJs);\n  const getType = x => {\n    if (typeof x === 'number') {\n      return 'Number';\n    }\n    if (Object.prototype.toString.call(x) === '[object Date]') {\n      return 'Date';\n    }\n    if (Array.isArray(x)) {\n      return 'Array';\n    }\n    if (typeof x === 'string') {\n      return 'String';\n    }\n    if (x instanceof ArrayBuffer) {\n      return 'Binary';\n    }\n    throw new _errorsJs.DataError();\n  };\n\n  // https://w3c.github.io/IndexedDB/#compare-two-keys\n  const cmp = (first, second) => {\n    if (second === undefined) {\n      throw new TypeError();\n    }\n    first = (0, valueToKey.default)(first);\n    second = (0, valueToKey.default)(second);\n    const t1 = getType(first);\n    const t2 = getType(second);\n    if (t1 !== t2) {\n      if (t1 === 'Array') {\n        return 1;\n      }\n      if (t1 === 'Binary' && (t2 === 'String' || t2 === 'Date' || t2 === 'Number')) {\n        return 1;\n      }\n      if (t1 === 'String' && (t2 === 'Date' || t2 === 'Number')) {\n        return 1;\n      }\n      if (t1 === 'Date' && t2 === 'Number') {\n        return 1;\n      }\n      return -1;\n    }\n    if (t1 === 'Binary') {\n      first = new Uint8Array(first);\n      second = new Uint8Array(second);\n    }\n    if (t1 === 'Array' || t1 === 'Binary') {\n      const length = Math.min(first.length, second.length);\n      for (let i = 0; i < length; i++) {\n        const result = cmp(first[i], second[i]);\n        if (result !== 0) {\n          return result;\n        }\n      }\n      if (first.length > second.length) {\n        return 1;\n      }\n      if (first.length < second.length) {\n        return -1;\n      }\n      return 0;\n    }\n    if (t1 === 'Date') {\n      if (first.getTime() === second.getTime()) {\n        return 0;\n      }\n    } else {\n      if (first === second) {\n        return 0;\n      }\n    }\n    return first > second ? 1 : -1;\n  };\n  var _default = cmp;\n});","lineCount":96,"map":[[12,2,77,0,"Object"],[12,8,77,0],[12,9,77,0,"defineProperty"],[12,23,77,0],[12,24,77,0,"exports"],[12,31,77,0],[13,4,77,0,"enumerable"],[13,14,77,0],[14,4,77,0,"get"],[14,7,77,0],[14,18,77,0,"get"],[14,19,77,0],[15,6,77,0],[15,13,77,0,"_default"],[15,21,77,0],[16,4,77,0],[17,2,77,0],[18,2,1,0],[18,6,1,0,"_errorsJs"],[18,15,1,0],[18,18,1,0,"require"],[18,25,1,0],[18,26,1,0,"_dependencyMap"],[18,40,1,0],[19,2,2,0],[19,6,2,0,"_valueToKeyJs"],[19,19,2,0],[19,22,2,0,"require"],[19,29,2,0],[19,30,2,0,"_dependencyMap"],[19,44,2,0],[20,2,2,0],[20,6,2,0,"valueToKey"],[20,16,2,0],[20,19,2,0,"_interopDefault"],[20,34,2,0],[20,35,2,0,"_valueToKeyJs"],[20,48,2,0],[21,2,3,0],[21,8,3,6,"getType"],[21,15,3,13],[21,18,3,16,"x"],[21,19,3,17],[21,23,3,21],[22,4,4,2],[22,8,4,6],[22,15,4,13,"x"],[22,16,4,14],[22,21,4,19],[22,29,4,27],[22,31,4,29],[23,6,5,4],[23,13,5,11],[23,21,5,19],[24,4,6,2],[25,4,7,2],[25,8,7,6,"Object"],[25,14,7,12],[25,15,7,13,"prototype"],[25,24,7,22],[25,25,7,23,"toString"],[25,33,7,31],[25,34,7,32,"call"],[25,38,7,36],[25,39,7,37,"x"],[25,40,7,38],[25,41,7,39],[25,46,7,44],[25,61,7,59],[25,63,7,61],[26,6,8,4],[26,13,8,11],[26,19,8,17],[27,4,9,2],[28,4,10,2],[28,8,10,6,"Array"],[28,13,10,11],[28,14,10,12,"isArray"],[28,21,10,19],[28,22,10,20,"x"],[28,23,10,21],[28,24,10,22],[28,26,10,24],[29,6,11,4],[29,13,11,11],[29,20,11,18],[30,4,12,2],[31,4,13,2],[31,8,13,6],[31,15,13,13,"x"],[31,16,13,14],[31,21,13,19],[31,29,13,27],[31,31,13,29],[32,6,14,4],[32,13,14,11],[32,21,14,19],[33,4,15,2],[34,4,16,2],[34,8,16,6,"x"],[34,9,16,7],[34,21,16,19,"ArrayBuffer"],[34,32,16,30],[34,34,16,32],[35,6,17,4],[35,13,17,11],[35,21,17,19],[36,4,18,2],[37,4,19,2],[37,10,19,8],[37,14,19,12,"DataError"],[37,23,19,21],[37,24,19,21,"DataError"],[37,33,19,21],[37,34,19,22],[37,35,19,23],[38,2,20,0],[38,3,20,1],[40,2,22,0],[41,2,23,0],[41,8,23,6,"cmp"],[41,11,23,9],[41,14,23,12,"cmp"],[41,15,23,13,"first"],[41,20,23,18],[41,22,23,20,"second"],[41,28,23,26],[41,33,23,31],[42,4,24,2],[42,8,24,6,"second"],[42,14,24,12],[42,19,24,17,"undefined"],[42,28,24,26],[42,30,24,28],[43,6,25,4],[43,12,25,10],[43,16,25,14,"TypeError"],[43,25,25,23],[43,26,25,24],[43,27,25,25],[44,4,26,2],[45,4,27,2,"first"],[45,9,27,7],[45,12,27,10],[45,16,27,10,"valueToKey"],[45,26,27,20],[45,27,27,20,"default"],[45,34,27,20],[45,36,27,21,"first"],[45,41,27,26],[45,42,27,27],[46,4,28,2,"second"],[46,10,28,8],[46,13,28,11],[46,17,28,11,"valueToKey"],[46,27,28,21],[46,28,28,21,"default"],[46,35,28,21],[46,37,28,22,"second"],[46,43,28,28],[46,44,28,29],[47,4,29,2],[47,10,29,8,"t1"],[47,12,29,10],[47,15,29,13,"getType"],[47,22,29,20],[47,23,29,21,"first"],[47,28,29,26],[47,29,29,27],[48,4,30,2],[48,10,30,8,"t2"],[48,12,30,10],[48,15,30,13,"getType"],[48,22,30,20],[48,23,30,21,"second"],[48,29,30,27],[48,30,30,28],[49,4,31,2],[49,8,31,6,"t1"],[49,10,31,8],[49,15,31,13,"t2"],[49,17,31,15],[49,19,31,17],[50,6,32,4],[50,10,32,8,"t1"],[50,12,32,10],[50,17,32,15],[50,24,32,22],[50,26,32,24],[51,8,33,6],[51,15,33,13],[51,16,33,14],[52,6,34,4],[53,6,35,4],[53,10,35,8,"t1"],[53,12,35,10],[53,17,35,15],[53,25,35,23],[53,30,35,28,"t2"],[53,32,35,30],[53,37,35,35],[53,45,35,43],[53,49,35,47,"t2"],[53,51,35,49],[53,56,35,54],[53,62,35,60],[53,66,35,64,"t2"],[53,68,35,66],[53,73,35,71],[53,81,35,79],[53,82,35,80],[53,84,35,82],[54,8,36,6],[54,15,36,13],[54,16,36,14],[55,6,37,4],[56,6,38,4],[56,10,38,8,"t1"],[56,12,38,10],[56,17,38,15],[56,25,38,23],[56,30,38,28,"t2"],[56,32,38,30],[56,37,38,35],[56,43,38,41],[56,47,38,45,"t2"],[56,49,38,47],[56,54,38,52],[56,62,38,60],[56,63,38,61],[56,65,38,63],[57,8,39,6],[57,15,39,13],[57,16,39,14],[58,6,40,4],[59,6,41,4],[59,10,41,8,"t1"],[59,12,41,10],[59,17,41,15],[59,23,41,21],[59,27,41,25,"t2"],[59,29,41,27],[59,34,41,32],[59,42,41,40],[59,44,41,42],[60,8,42,6],[60,15,42,13],[60,16,42,14],[61,6,43,4],[62,6,44,4],[62,13,44,11],[62,14,44,12],[62,15,44,13],[63,4,45,2],[64,4,46,2],[64,8,46,6,"t1"],[64,10,46,8],[64,15,46,13],[64,23,46,21],[64,25,46,23],[65,6,47,4,"first"],[65,11,47,9],[65,14,47,12],[65,18,47,16,"Uint8Array"],[65,28,47,26],[65,29,47,27,"first"],[65,34,47,32],[65,35,47,33],[66,6,48,4,"second"],[66,12,48,10],[66,15,48,13],[66,19,48,17,"Uint8Array"],[66,29,48,27],[66,30,48,28,"second"],[66,36,48,34],[66,37,48,35],[67,4,49,2],[68,4,50,2],[68,8,50,6,"t1"],[68,10,50,8],[68,15,50,13],[68,22,50,20],[68,26,50,24,"t1"],[68,28,50,26],[68,33,50,31],[68,41,50,39],[68,43,50,41],[69,6,51,4],[69,12,51,10,"length"],[69,18,51,16],[69,21,51,19,"Math"],[69,25,51,23],[69,26,51,24,"min"],[69,29,51,27],[69,30,51,28,"first"],[69,35,51,33],[69,36,51,34,"length"],[69,42,51,40],[69,44,51,42,"second"],[69,50,51,48],[69,51,51,49,"length"],[69,57,51,55],[69,58,51,56],[70,6,52,4],[70,11,52,9],[70,15,52,13,"i"],[70,16,52,14],[70,19,52,17],[70,20,52,18],[70,22,52,20,"i"],[70,23,52,21],[70,26,52,24,"length"],[70,32,52,30],[70,34,52,32,"i"],[70,35,52,33],[70,37,52,35],[70,39,52,37],[71,8,53,6],[71,14,53,12,"result"],[71,20,53,18],[71,23,53,21,"cmp"],[71,26,53,24],[71,27,53,25,"first"],[71,32,53,30],[71,33,53,31,"i"],[71,34,53,32],[71,35,53,33],[71,37,53,35,"second"],[71,43,53,41],[71,44,53,42,"i"],[71,45,53,43],[71,46,53,44],[71,47,53,45],[72,8,54,6],[72,12,54,10,"result"],[72,18,54,16],[72,23,54,21],[72,24,54,22],[72,26,54,24],[73,10,55,8],[73,17,55,15,"result"],[73,23,55,21],[74,8,56,6],[75,6,57,4],[76,6,58,4],[76,10,58,8,"first"],[76,15,58,13],[76,16,58,14,"length"],[76,22,58,20],[76,25,58,23,"second"],[76,31,58,29],[76,32,58,30,"length"],[76,38,58,36],[76,40,58,38],[77,8,59,6],[77,15,59,13],[77,16,59,14],[78,6,60,4],[79,6,61,4],[79,10,61,8,"first"],[79,15,61,13],[79,16,61,14,"length"],[79,22,61,20],[79,25,61,23,"second"],[79,31,61,29],[79,32,61,30,"length"],[79,38,61,36],[79,40,61,38],[80,8,62,6],[80,15,62,13],[80,16,62,14],[80,17,62,15],[81,6,63,4],[82,6,64,4],[82,13,64,11],[82,14,64,12],[83,4,65,2],[84,4,66,2],[84,8,66,6,"t1"],[84,10,66,8],[84,15,66,13],[84,21,66,19],[84,23,66,21],[85,6,67,4],[85,10,67,8,"first"],[85,15,67,13],[85,16,67,14,"getTime"],[85,23,67,21],[85,24,67,22],[85,25,67,23],[85,30,67,28,"second"],[85,36,67,34],[85,37,67,35,"getTime"],[85,44,67,42],[85,45,67,43],[85,46,67,44],[85,48,67,46],[86,8,68,6],[86,15,68,13],[86,16,68,14],[87,6,69,4],[88,4,70,2],[88,5,70,3],[88,11,70,9],[89,6,71,4],[89,10,71,8,"first"],[89,15,71,13],[89,20,71,18,"second"],[89,26,71,24],[89,28,71,26],[90,8,72,6],[90,15,72,13],[90,16,72,14],[91,6,73,4],[92,4,74,2],[93,4,75,2],[93,11,75,9,"first"],[93,16,75,14],[93,19,75,17,"second"],[93,25,75,23],[93,28,75,26],[93,29,75,27],[93,32,75,30],[93,33,75,31],[93,34,75,32],[94,2,76,0],[94,3,76,1],[95,2,77,0],[95,6,77,0,"_default"],[95,14,77,0],[95,17,77,15,"cmp"],[95,20,77,18],[96,0,77,19],[96,3]],"functionMap":{"names":["<global>","getType","cmp"],"mappings":"AAA;gBCE;CDiB;YEG;CFqD"},"hasCjsExports":false},"type":"js/module"}]}