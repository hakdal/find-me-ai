{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"queueTask\", {\n    enumerable: true,\n    get: function () {\n      return queueTask;\n    }\n  });\n  // When running within Node.js (including jsdom), we want to use setImmediate\n  // (which runs immediately) rather than setTimeout (which enforces a minimum\n  // delay of 1ms, and on Windows only has a resolution of 15ms or so).  jsdom\n  // doesn't provide setImmediate (to better match the browser environment) and\n  // sandboxes scripts, but its sandbox is by necessity imperfect, so we can break\n  // out of it:\n  //\n  // - https://github.com/jsdom/jsdom#executing-scripts\n  // - https://github.com/jsdom/jsdom/issues/2729\n  // - https://github.com/scala-js/scala-js-macrotask-executor/pull/17\n  function getSetImmediateFromJsdom() {\n    if (typeof navigator !== 'undefined' && /jsdom/.test(navigator.userAgent)) {\n      const outerRealmFunctionConstructor = Node.constructor;\n      return new outerRealmFunctionConstructor('return setImmediate')();\n    } else {\n      return undefined;\n    }\n  }\n\n  // Schedules a task to run later.  Use Node.js's setImmediate if available and\n  // setTimeout otherwise.  Note that options like process.nextTick or\n  // queueMicrotask will likely not work: IndexedDB semantics require that\n  // transactions are marked as not active when the event loop runs. The next\n  // tick queue and microtask queue run within the current event loop macrotask,\n  // so they'd process database operations too quickly.\n  const queueTask = fn => {\n    const setImmediate = globalThis.setImmediate || getSetImmediateFromJsdom() || (fn => setTimeout(fn, 0));\n    setImmediate(fn);\n  };\n});","lineCount":42,"map":[[7,2,26,0,"Object"],[7,8,26,0],[7,9,26,0,"defineProperty"],[7,23,26,0],[7,24,26,0,"exports"],[7,31,26,0],[8,4,26,0,"enumerable"],[8,14,26,0],[9,4,26,0,"get"],[9,7,26,0],[9,18,26,0,"get"],[9,19,26,0],[10,6,26,0],[10,13,26,0,"queueTask"],[10,22,26,0],[11,4,26,0],[12,2,26,0],[13,2,1,0],[14,2,2,0],[15,2,3,0],[16,2,4,0],[17,2,5,0],[18,2,6,0],[19,2,7,0],[20,2,8,0],[21,2,9,0],[22,2,10,0],[23,2,11,0],[23,11,11,9,"getSetImmediateFromJsdom"],[23,35,11,33,"getSetImmediateFromJsdom"],[23,36,11,33],[23,38,11,36],[24,4,12,2],[24,8,12,6],[24,15,12,13,"navigator"],[24,24,12,22],[24,29,12,27],[24,40,12,38],[24,44,12,42],[24,51,12,49],[24,52,12,50,"test"],[24,56,12,54],[24,57,12,55,"navigator"],[24,66,12,64],[24,67,12,65,"userAgent"],[24,76,12,74],[24,77,12,75],[24,79,12,77],[25,6,13,4],[25,12,13,10,"outerRealmFunctionConstructor"],[25,41,13,39],[25,44,13,42,"Node"],[25,48,13,46],[25,49,13,47,"constructor"],[25,60,13,58],[26,6,14,4],[26,13,14,11],[26,17,14,15,"outerRealmFunctionConstructor"],[26,46,14,44],[26,47,14,45],[26,68,14,66],[26,69,14,67],[26,70,14,68],[26,71,14,69],[27,4,15,2],[27,5,15,3],[27,11,15,9],[28,6,16,4],[28,13,16,11,"undefined"],[28,22,16,20],[29,4,17,2],[30,2,18,0],[32,2,20,0],[33,2,21,0],[34,2,22,0],[35,2,23,0],[36,2,24,0],[37,2,25,0],[38,2,26,7],[38,8,26,13,"queueTask"],[38,17,26,22],[38,20,26,25,"fn"],[38,22,26,27],[38,26,26,31],[39,4,27,2],[39,10,27,8,"setImmediate"],[39,22,27,20],[39,25,28,4,"globalThis"],[39,35,28,14],[39,36,28,15,"setImmediate"],[39,48,28,27],[39,52,28,31,"getSetImmediateFromJsdom"],[39,76,28,55],[39,77,28,56],[39,78,28,57],[39,83,28,62,"fn"],[39,85,28,64],[39,89,28,68,"setTimeout"],[39,99,28,78],[39,100,28,79,"fn"],[39,102,28,81],[39,104,28,83],[39,105,28,84],[39,106,28,85],[39,107,28,86],[40,4,29,2,"setImmediate"],[40,16,29,14],[40,17,29,15,"fn"],[40,19,29,17],[40,20,29,18],[41,2,30,0],[41,3,30,1],[42,0,30,2],[42,3]],"functionMap":{"names":["<global>","getSetImmediateFromJsdom","queueTask","<anonymous>"],"mappings":"AAA;ACU;CDO;yBEQ;8DCE,uBD;CFE"},"hasCjsExports":false},"type":"js/module"}]}