{"dependencies":[{"name":"react-native-web/dist/exports/NativeEventEmitter","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"eTF52IbKshB2LvkGjXImGpuTZc0=","exportNames":["*"],"imports":1}},{"name":"./nativeModule","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":19,"column":0,"index":684},"end":{"line":19,"column":54,"index":738}}],"key":"ARhJsrme3vmBT/JKNOpBv/eZ9Q8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _reactNativeWebDistExportsNativeEventEmitter = require(_dependencyMap[0], \"react-native-web/dist/exports/NativeEventEmitter\");\n  var NativeEventEmitter = _interopDefault(_reactNativeWebDistExportsNativeEventEmitter);\n  var _nativeModule = require(_dependencyMap[1], \"./nativeModule\");\n  /*\n   * Copyright (c) 2016-present Invertase Limited & Contributors\n   *\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this library except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   *   http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   *\n   */\n\n  class RNFBNativeEventEmitter extends NativeEventEmitter.default {\n    constructor() {\n      const RNFBAppModule = (0, _nativeModule.getReactNativeModule)('RNFBAppModule');\n      if (!RNFBAppModule) {\n        throw new Error('Native module RNFBAppModule not found. Re-check module install, linking, configuration, build and install steps.');\n      }\n      super(RNFBAppModule);\n      this.ready = false;\n    }\n    addListener(eventType, listener, context) {\n      const RNFBAppModule = (0, _nativeModule.getReactNativeModule)('RNFBAppModule');\n      if (!this.ready) {\n        RNFBAppModule.eventsNotifyReady(true);\n        this.ready = true;\n      }\n      RNFBAppModule.eventsAddListener(eventType);\n      if (globalThis.RNFBDebug) {\n        // eslint-disable-next-line no-console\n        console.debug(`[RNFB-->Event][ðŸ‘‚] ${eventType} -> listening`);\n      }\n      const listenerDebugger = (...args) => {\n        if (globalThis.RNFBDebug) {\n          // eslint-disable-next-line no-console\n          console.debug(`[RNFB<--Event][ðŸ“£] ${eventType} <-`, JSON.stringify(args[0]));\n          // Possible leaking test if events are still being received after the test.\n          // This is not super accurate but it's better than nothing, e.g. if doing setup/teardown\n          // logic outside of a test this may cause false positives.\n          if (globalThis.RNFBTest && !globalThis.RNFBDebugInTestLeakDetection) {\n            // eslint-disable-next-line no-console\n            console.debug(`[TEST--->Leak][ðŸ’¡] Possible leaking test detected! An event (â˜ï¸) ` + `was received outside of any running tests which may indicates that some ` + `listeners/event subscriptions that have not been unsubscribed from in your ` + `test code. The last test that ran was: \"${globalThis.RNFBDebugLastTest}\".`);\n          }\n        }\n        return listener(...args);\n      };\n      let subscription = super.addListener(`rnfb_${eventType}`, listenerDebugger, context);\n\n      // React Native 0.65+ altered EventEmitter:\n      // - removeSubscription is gone\n      // - addListener returns an unsubscriber instead of a more complex object with eventType etc\n\n      // make sure eventType for backwards compatibility just in case\n      subscription.eventType = `rnfb_${eventType}`;\n\n      // New style is to return a remove function on the object, just in case people call that,\n      // we will modify it to do our native unsubscription then call the original\n      let originalRemove = subscription.remove;\n      let newRemove = () => {\n        RNFBAppModule.eventsRemoveListener(eventType, false);\n        if (super.removeSubscription != null) {\n          // This is for RN <= 0.64 - 65 and greater no longer have removeSubscription\n          super.removeSubscription(subscription);\n        } else if (originalRemove != null) {\n          // This is for RN >= 0.65\n          originalRemove();\n        }\n      };\n      subscription.remove = newRemove;\n      return subscription;\n    }\n    removeAllListeners(eventType) {\n      const RNFBAppModule = (0, _nativeModule.getReactNativeModule)('RNFBAppModule');\n      RNFBAppModule.eventsRemoveListener(eventType, true);\n      super.removeAllListeners(`rnfb_${eventType}`);\n    }\n\n    // This is likely no longer ever called, but it is here for backwards compatibility with RN <= 0.64\n    removeSubscription(subscription) {\n      const RNFBAppModule = (0, _nativeModule.getReactNativeModule)('RNFBAppModule');\n      RNFBAppModule.eventsRemoveListener(subscription.eventType.replace('rnfb_'), false);\n      if (super.removeSubscription) {\n        super.removeSubscription(subscription);\n      }\n    }\n  }\n  var _default = new RNFBNativeEventEmitter();\n});","lineCount":113,"map":[[12,2,106,0,"Object"],[12,8,106,0],[12,9,106,0,"defineProperty"],[12,23,106,0],[12,24,106,0,"exports"],[12,31,106,0],[13,4,106,0,"enumerable"],[13,14,106,0],[14,4,106,0,"get"],[14,7,106,0],[14,18,106,0,"get"],[14,19,106,0],[15,6,106,0],[15,13,106,0,"_default"],[15,21,106,0],[16,4,106,0],[17,2,106,0],[18,2,106,44],[18,6,106,44,"_reactNativeWebDistExportsNativeEventEmitter"],[18,50,106,44],[18,53,106,44,"require"],[18,60,106,44],[18,61,106,44,"_dependencyMap"],[18,75,106,44],[19,2,106,44],[19,6,106,44,"NativeEventEmitter"],[19,24,106,44],[19,27,106,44,"_interopDefault"],[19,42,106,44],[19,43,106,44,"_reactNativeWebDistExportsNativeEventEmitter"],[19,87,106,44],[20,2,19,0],[20,6,19,0,"_nativeModule"],[20,19,19,0],[20,22,19,0,"require"],[20,29,19,0],[20,30,19,0,"_dependencyMap"],[20,44,19,0],[21,2,1,0],[22,0,2,0],[23,0,3,0],[24,0,4,0],[25,0,5,0],[26,0,6,0],[27,0,7,0],[28,0,8,0],[29,0,9,0],[30,0,10,0],[31,0,11,0],[32,0,12,0],[33,0,13,0],[34,0,14,0],[35,0,15,0],[36,0,16,0],[38,2,21,0],[38,8,21,6,"RNFBNativeEventEmitter"],[38,30,21,28],[38,39,21,37,"NativeEventEmitter"],[38,57,21,55],[38,58,21,55,"default"],[38,65,21,55],[38,66,21,56],[39,4,22,2,"constructor"],[39,15,22,13,"constructor"],[39,16,22,13],[39,18,22,16],[40,6,23,4],[40,12,23,10,"RNFBAppModule"],[40,25,23,23],[40,28,23,26],[40,32,23,26,"getReactNativeModule"],[40,45,23,46],[40,46,23,46,"getReactNativeModule"],[40,66,23,46],[40,68,23,47],[40,83,23,62],[40,84,23,63],[41,6,24,4],[41,10,24,8],[41,11,24,9,"RNFBAppModule"],[41,24,24,22],[41,26,24,24],[42,8,25,6],[42,14,25,12],[42,18,25,16,"Error"],[42,23,25,21],[42,24,26,8],[42,138,27,6],[42,139,27,7],[43,6,28,4],[44,6,29,4],[44,11,29,9],[44,12,29,10,"RNFBAppModule"],[44,25,29,23],[44,26,29,24],[45,6,30,4],[45,10,30,8],[45,11,30,9,"ready"],[45,16,30,14],[45,19,30,17],[45,24,30,22],[46,4,31,2],[47,4,33,2,"addListener"],[47,15,33,13,"addListener"],[47,16,33,14,"eventType"],[47,25,33,23],[47,27,33,25,"listener"],[47,35,33,33],[47,37,33,35,"context"],[47,44,33,42],[47,46,33,44],[48,6,34,4],[48,12,34,10,"RNFBAppModule"],[48,25,34,23],[48,28,34,26],[48,32,34,26,"getReactNativeModule"],[48,45,34,46],[48,46,34,46,"getReactNativeModule"],[48,66,34,46],[48,68,34,47],[48,83,34,62],[48,84,34,63],[49,6,35,4],[49,10,35,8],[49,11,35,9],[49,15,35,13],[49,16,35,14,"ready"],[49,21,35,19],[49,23,35,21],[50,8,36,6,"RNFBAppModule"],[50,21,36,19],[50,22,36,20,"eventsNotifyReady"],[50,39,36,37],[50,40,36,38],[50,44,36,42],[50,45,36,43],[51,8,37,6],[51,12,37,10],[51,13,37,11,"ready"],[51,18,37,16],[51,21,37,19],[51,25,37,23],[52,6,38,4],[53,6,39,4,"RNFBAppModule"],[53,19,39,17],[53,20,39,18,"eventsAddListener"],[53,37,39,35],[53,38,39,36,"eventType"],[53,47,39,45],[53,48,39,46],[54,6,40,4],[54,10,40,8,"globalThis"],[54,20,40,18],[54,21,40,19,"RNFBDebug"],[54,30,40,28],[54,32,40,30],[55,8,41,6],[56,8,42,6,"console"],[56,15,42,13],[56,16,42,14,"debug"],[56,21,42,19],[56,22,42,20],[56,44,42,42,"eventType"],[56,53,42,51],[56,68,42,66],[56,69,42,67],[57,6,43,4],[58,6,44,4],[58,12,44,10,"listenerDebugger"],[58,28,44,26],[58,31,44,29,"listenerDebugger"],[58,32,44,30],[58,35,44,33,"args"],[58,39,44,37],[58,44,44,42],[59,8,45,6],[59,12,45,10,"globalThis"],[59,22,45,20],[59,23,45,21,"RNFBDebug"],[59,32,45,30],[59,34,45,32],[60,10,46,8],[61,10,47,8,"console"],[61,17,47,15],[61,18,47,16,"debug"],[61,23,47,21],[61,24,47,22],[61,46,47,44,"eventType"],[61,55,47,53],[61,60,47,58],[61,62,47,60,"JSON"],[61,66,47,64],[61,67,47,65,"stringify"],[61,76,47,74],[61,77,47,75,"args"],[61,81,47,79],[61,82,47,80],[61,83,47,81],[61,84,47,82],[61,85,47,83],[61,86,47,84],[62,10,48,8],[63,10,49,8],[64,10,50,8],[65,10,51,8],[65,14,51,12,"globalThis"],[65,24,51,22],[65,25,51,23,"RNFBTest"],[65,33,51,31],[65,37,51,35],[65,38,51,36,"globalThis"],[65,48,51,46],[65,49,51,47,"RNFBDebugInTestLeakDetection"],[65,77,51,75],[65,79,51,77],[66,12,52,10],[67,12,53,10,"console"],[67,19,53,17],[67,20,53,18,"debug"],[67,25,53,23],[67,26,54,12],[67,93,54,79],[67,96,55,14],[67,170,55,88],[67,173,56,14],[67,250,56,91],[67,253,57,14],[67,296,57,57,"globalThis"],[67,306,57,67],[67,307,57,68,"RNFBDebugLastTest"],[67,324,57,85],[67,328,58,10],[67,329,58,11],[68,10,59,8],[69,8,60,6],[70,8,61,6],[70,15,61,13,"listener"],[70,23,61,21],[70,24,61,22],[70,27,61,25,"args"],[70,31,61,29],[70,32,61,30],[71,6,62,4],[71,7,62,5],[72,6,64,4],[72,10,64,8,"subscription"],[72,22,64,20],[72,25,64,23],[72,30,64,28],[72,31,64,29,"addListener"],[72,42,64,40],[72,43,64,41],[72,51,64,49,"eventType"],[72,60,64,58],[72,62,64,60],[72,64,64,62,"listenerDebugger"],[72,80,64,78],[72,82,64,80,"context"],[72,89,64,87],[72,90,64,88],[74,6,66,4],[75,6,67,4],[76,6,68,4],[78,6,70,4],[79,6,71,4,"subscription"],[79,18,71,16],[79,19,71,17,"eventType"],[79,28,71,26],[79,31,71,29],[79,39,71,37,"eventType"],[79,48,71,46],[79,50,71,48],[81,6,73,4],[82,6,74,4],[83,6,75,4],[83,10,75,8,"originalRemove"],[83,24,75,22],[83,27,75,25,"subscription"],[83,39,75,37],[83,40,75,38,"remove"],[83,46,75,44],[84,6,76,4],[84,10,76,8,"newRemove"],[84,19,76,17],[84,22,76,20,"newRemove"],[84,23,76,20],[84,28,76,26],[85,8,77,6,"RNFBAppModule"],[85,21,77,19],[85,22,77,20,"eventsRemoveListener"],[85,42,77,40],[85,43,77,41,"eventType"],[85,52,77,50],[85,54,77,52],[85,59,77,57],[85,60,77,58],[86,8,78,6],[86,12,78,10],[86,17,78,15],[86,18,78,16,"removeSubscription"],[86,36,78,34],[86,40,78,38],[86,44,78,42],[86,46,78,44],[87,10,79,8],[88,10,80,8],[88,15,80,13],[88,16,80,14,"removeSubscription"],[88,34,80,32],[88,35,80,33,"subscription"],[88,47,80,45],[88,48,80,46],[89,8,81,6],[89,9,81,7],[89,15,81,13],[89,19,81,17,"originalRemove"],[89,33,81,31],[89,37,81,35],[89,41,81,39],[89,43,81,41],[90,10,82,8],[91,10,83,8,"originalRemove"],[91,24,83,22],[91,25,83,23],[91,26,83,24],[92,8,84,6],[93,6,85,4],[93,7,85,5],[94,6,86,4,"subscription"],[94,18,86,16],[94,19,86,17,"remove"],[94,25,86,23],[94,28,86,26,"newRemove"],[94,37,86,35],[95,6,87,4],[95,13,87,11,"subscription"],[95,25,87,23],[96,4,88,2],[97,4,90,2,"removeAllListeners"],[97,22,90,20,"removeAllListeners"],[97,23,90,21,"eventType"],[97,32,90,30],[97,34,90,32],[98,6,91,4],[98,12,91,10,"RNFBAppModule"],[98,25,91,23],[98,28,91,26],[98,32,91,26,"getReactNativeModule"],[98,45,91,46],[98,46,91,46,"getReactNativeModule"],[98,66,91,46],[98,68,91,47],[98,83,91,62],[98,84,91,63],[99,6,92,4,"RNFBAppModule"],[99,19,92,17],[99,20,92,18,"eventsRemoveListener"],[99,40,92,38],[99,41,92,39,"eventType"],[99,50,92,48],[99,52,92,50],[99,56,92,54],[99,57,92,55],[100,6,93,4],[100,11,93,9],[100,12,93,10,"removeAllListeners"],[100,30,93,28],[100,31,93,29],[100,39,93,37,"eventType"],[100,48,93,46],[100,50,93,48],[100,51,93,49],[101,4,94,2],[103,4,96,2],[104,4,97,2,"removeSubscription"],[104,22,97,20,"removeSubscription"],[104,23,97,21,"subscription"],[104,35,97,33],[104,37,97,35],[105,6,98,4],[105,12,98,10,"RNFBAppModule"],[105,25,98,23],[105,28,98,26],[105,32,98,26,"getReactNativeModule"],[105,45,98,46],[105,46,98,46,"getReactNativeModule"],[105,66,98,46],[105,68,98,47],[105,83,98,62],[105,84,98,63],[106,6,99,4,"RNFBAppModule"],[106,19,99,17],[106,20,99,18,"eventsRemoveListener"],[106,40,99,38],[106,41,99,39,"subscription"],[106,53,99,51],[106,54,99,52,"eventType"],[106,63,99,61],[106,64,99,62,"replace"],[106,71,99,69],[106,72,99,70],[106,79,99,77],[106,80,99,78],[106,82,99,80],[106,87,99,85],[106,88,99,86],[107,6,100,4],[107,10,100,8],[107,15,100,13],[107,16,100,14,"removeSubscription"],[107,34,100,32],[107,36,100,34],[108,8,101,6],[108,13,101,11],[108,14,101,12,"removeSubscription"],[108,32,101,30],[108,33,101,31,"subscription"],[108,45,101,43],[108,46,101,44],[109,6,102,4],[110,4,103,2],[111,2,104,0],[112,2,106,0],[112,6,106,0,"_default"],[112,14,106,0],[112,17,106,15],[112,21,106,19,"RNFBNativeEventEmitter"],[112,43,106,41],[112,44,106,42],[112,45,106,43],[113,0,106,44],[113,3]],"functionMap":{"names":["<global>","RNFBNativeEventEmitter","constructor","addListener","listenerDebugger","newRemove","removeAllListeners","removeSubscription"],"mappings":"AAA;ACoB;ECC;GDS;EEE;6BCW;KDkB;oBEc;KFS;GFG;EKE;GLI;EMG;GNM;CDC"},"hasCjsExports":false},"type":"js/module"}]}