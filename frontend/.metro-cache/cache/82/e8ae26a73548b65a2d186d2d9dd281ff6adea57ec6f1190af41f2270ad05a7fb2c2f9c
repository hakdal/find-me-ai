{"dependencies":[{"name":"./valueToKey.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":41,"index":41}}],"key":"E63fgZPvFpLv8oMcZVRZDin1bWs=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  var _valueToKeyJs = require(_dependencyMap[0], \"./valueToKey.js\");\n  var valueToKey = _interopDefault(_valueToKeyJs);\n  // http://www.w3.org/TR/2015/REC-IndexedDB-20150108/#dfn-steps-for-extracting-a-key-from-a-value-using-a-key-path\n  const extractKey = (keyPath, value) => {\n    if (Array.isArray(keyPath)) {\n      const result = [];\n      for (let item of keyPath) {\n        // This doesn't make sense to me based on the spec, but it is needed to pass the W3C KeyPath tests (see same\n        // comment in validateKeyPath)\n        if (item !== undefined && item !== null && typeof item !== 'string' && item.toString) {\n          item = item.toString();\n        }\n        result.push((0, valueToKey.default)(extractKey(item, value)));\n      }\n      return result;\n    }\n    if (keyPath === '') {\n      return value;\n    }\n    let remainingKeyPath = keyPath;\n    let object = value;\n    while (remainingKeyPath !== null) {\n      let identifier;\n      const i = remainingKeyPath.indexOf('.');\n      if (i >= 0) {\n        identifier = remainingKeyPath.slice(0, i);\n        remainingKeyPath = remainingKeyPath.slice(i + 1);\n      } else {\n        identifier = remainingKeyPath;\n        remainingKeyPath = null;\n      }\n      if (object === undefined || object === null || !Object.hasOwn(object, identifier)) {\n        return;\n      }\n      object = object[identifier];\n    }\n    return object;\n  };\n  var _default = extractKey;\n});","lineCount":57,"map":[[12,2,39,0,"Object"],[12,8,39,0],[12,9,39,0,"defineProperty"],[12,23,39,0],[12,24,39,0,"exports"],[12,31,39,0],[13,4,39,0,"enumerable"],[13,14,39,0],[14,4,39,0,"get"],[14,7,39,0],[14,18,39,0,"get"],[14,19,39,0],[15,6,39,0],[15,13,39,0,"_default"],[15,21,39,0],[16,4,39,0],[17,2,39,0],[18,2,1,0],[18,6,1,0,"_valueToKeyJs"],[18,19,1,0],[18,22,1,0,"require"],[18,29,1,0],[18,30,1,0,"_dependencyMap"],[18,44,1,0],[19,2,1,0],[19,6,1,0,"valueToKey"],[19,16,1,0],[19,19,1,0,"_interopDefault"],[19,34,1,0],[19,35,1,0,"_valueToKeyJs"],[19,48,1,0],[20,2,3,0],[21,2,4,0],[21,8,4,6,"extractKey"],[21,18,4,16],[21,21,4,19,"extractKey"],[21,22,4,20,"keyPath"],[21,29,4,27],[21,31,4,29,"value"],[21,36,4,34],[21,41,4,39],[22,4,5,2],[22,8,5,6,"Array"],[22,13,5,11],[22,14,5,12,"isArray"],[22,21,5,19],[22,22,5,20,"keyPath"],[22,29,5,27],[22,30,5,28],[22,32,5,30],[23,6,6,4],[23,12,6,10,"result"],[23,18,6,16],[23,21,6,19],[23,23,6,21],[24,6,7,4],[24,11,7,9],[24,15,7,13,"item"],[24,19,7,17],[24,23,7,21,"keyPath"],[24,30,7,28],[24,32,7,30],[25,8,8,6],[26,8,9,6],[27,8,10,6],[27,12,10,10,"item"],[27,16,10,14],[27,21,10,19,"undefined"],[27,30,10,28],[27,34,10,32,"item"],[27,38,10,36],[27,43,10,41],[27,47,10,45],[27,51,10,49],[27,58,10,56,"item"],[27,62,10,60],[27,67,10,65],[27,75,10,73],[27,79,10,77,"item"],[27,83,10,81],[27,84,10,82,"toString"],[27,92,10,90],[27,94,10,92],[28,10,11,8,"item"],[28,14,11,12],[28,17,11,15,"item"],[28,21,11,19],[28,22,11,20,"toString"],[28,30,11,28],[28,31,11,29],[28,32,11,30],[29,8,12,6],[30,8,13,6,"result"],[30,14,13,12],[30,15,13,13,"push"],[30,19,13,17],[30,20,13,18],[30,24,13,18,"valueToKey"],[30,34,13,28],[30,35,13,28,"default"],[30,42,13,28],[30,44,13,29,"extractKey"],[30,54,13,39],[30,55,13,40,"item"],[30,59,13,44],[30,61,13,46,"value"],[30,66,13,51],[30,67,13,52],[30,68,13,53],[30,69,13,54],[31,6,14,4],[32,6,15,4],[32,13,15,11,"result"],[32,19,15,17],[33,4,16,2],[34,4,17,2],[34,8,17,6,"keyPath"],[34,15,17,13],[34,20,17,18],[34,22,17,20],[34,24,17,22],[35,6,18,4],[35,13,18,11,"value"],[35,18,18,16],[36,4,19,2],[37,4,20,2],[37,8,20,6,"remainingKeyPath"],[37,24,20,22],[37,27,20,25,"keyPath"],[37,34,20,32],[38,4,21,2],[38,8,21,6,"object"],[38,14,21,12],[38,17,21,15,"value"],[38,22,21,20],[39,4,22,2],[39,11,22,9,"remainingKeyPath"],[39,27,22,25],[39,32,22,30],[39,36,22,34],[39,38,22,36],[40,6,23,4],[40,10,23,8,"identifier"],[40,20,23,18],[41,6,24,4],[41,12,24,10,"i"],[41,13,24,11],[41,16,24,14,"remainingKeyPath"],[41,32,24,30],[41,33,24,31,"indexOf"],[41,40,24,38],[41,41,24,39],[41,44,24,42],[41,45,24,43],[42,6,25,4],[42,10,25,8,"i"],[42,11,25,9],[42,15,25,13],[42,16,25,14],[42,18,25,16],[43,8,26,6,"identifier"],[43,18,26,16],[43,21,26,19,"remainingKeyPath"],[43,37,26,35],[43,38,26,36,"slice"],[43,43,26,41],[43,44,26,42],[43,45,26,43],[43,47,26,45,"i"],[43,48,26,46],[43,49,26,47],[44,8,27,6,"remainingKeyPath"],[44,24,27,22],[44,27,27,25,"remainingKeyPath"],[44,43,27,41],[44,44,27,42,"slice"],[44,49,27,47],[44,50,27,48,"i"],[44,51,27,49],[44,54,27,52],[44,55,27,53],[44,56,27,54],[45,6,28,4],[45,7,28,5],[45,13,28,11],[46,8,29,6,"identifier"],[46,18,29,16],[46,21,29,19,"remainingKeyPath"],[46,37,29,35],[47,8,30,6,"remainingKeyPath"],[47,24,30,22],[47,27,30,25],[47,31,30,29],[48,6,31,4],[49,6,32,4],[49,10,32,8,"object"],[49,16,32,14],[49,21,32,19,"undefined"],[49,30,32,28],[49,34,32,32,"object"],[49,40,32,38],[49,45,32,43],[49,49,32,47],[49,53,32,51],[49,54,32,52,"Object"],[49,60,32,58],[49,61,32,59,"hasOwn"],[49,67,32,65],[49,68,32,66,"object"],[49,74,32,72],[49,76,32,74,"identifier"],[49,86,32,84],[49,87,32,85],[49,89,32,87],[50,8,33,6],[51,6,34,4],[52,6,35,4,"object"],[52,12,35,10],[52,15,35,13,"object"],[52,21,35,19],[52,22,35,20,"identifier"],[52,32,35,30],[52,33,35,31],[53,4,36,2],[54,4,37,2],[54,11,37,9,"object"],[54,17,37,15],[55,2,38,0],[55,3,38,1],[56,2,39,0],[56,6,39,0,"_default"],[56,14,39,0],[56,17,39,15,"extractKey"],[56,27,39,25],[57,0,39,26],[57,3]],"functionMap":{"names":["<global>","extractKey"],"mappings":"AAA;mBCG;CDkC"},"hasCjsExports":false},"type":"js/module"}]}