{"dependencies":[{"name":"./utils/debug.js","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":15},"end":{"line":3,"column":48,"index":63}}],"key":"O+5VZJKHkV4rrdhawhlKVAbCYRo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"parseAppTransactionPayload\", {\n    enumerable: true,\n    get: function () {\n      return parseAppTransactionPayload;\n    }\n  });\n  var _utilsDebugJs = require(_dependencyMap[0], \"./utils/debug.js\");\n  /**\n   * Parse the string payload returned by the native getAppTransactionIOS call into\n   * a strongly typed AppTransaction object. Returns null when the payload cannot\n   * be safely converted.\n   */\n  const parseAppTransactionPayload = payload => {\n    try {\n      const raw = JSON.parse(payload);\n      if (raw == null || typeof raw !== 'object') {\n        return null;\n      }\n      const appId = Number(raw.appId);\n      const appVersionId = Number(raw.appVersionId);\n      const originalPurchaseDate = Number(raw.originalPurchaseDate);\n      const signedDate = Number(raw.signedDate);\n      if (Number.isNaN(appId) || Number.isNaN(appVersionId) || Number.isNaN(originalPurchaseDate) || Number.isNaN(signedDate)) {\n        return null;\n      }\n      const preorderDateRaw = raw.preorderDate;\n      const preorderDate = preorderDateRaw == null ? null : Number(preorderDateRaw);\n      return {\n        appId,\n        appTransactionId: typeof raw.appTransactionId === 'string' ? raw.appTransactionId : null,\n        appVersion: typeof raw.appVersion === 'string' ? raw.appVersion : '',\n        appVersionId,\n        bundleId: typeof raw.bundleId === 'string' ? raw.bundleId : '',\n        deviceVerification: typeof raw.deviceVerification === 'string' ? raw.deviceVerification : '',\n        deviceVerificationNonce: typeof raw.deviceVerificationNonce === 'string' ? raw.deviceVerificationNonce : '',\n        environment: typeof raw.environment === 'string' ? raw.environment : '',\n        originalAppVersion: typeof raw.originalAppVersion === 'string' ? raw.originalAppVersion : '',\n        originalPlatform: typeof raw.originalPlatform === 'string' ? raw.originalPlatform : null,\n        originalPurchaseDate,\n        preorderDate: preorderDate != null && !Number.isNaN(preorderDate) ? preorderDate : null,\n        signedDate\n      };\n    } catch (error) {\n      _utilsDebugJs.RnIapConsole.warn('[parseAppTransactionPayload] Failed to parse payload', error);\n      return null;\n    }\n  };\n});","lineCount":54,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13,"Object"],[4,8,1,13],[4,9,1,13,"defineProperty"],[4,23,1,13],[4,24,1,13,"exports"],[4,31,1,13],[5,4,1,13,"value"],[5,9,1,13],[6,2,1,13],[7,2,10,0,"Object"],[7,8,10,0],[7,9,10,0,"defineProperty"],[7,23,10,0],[7,24,10,0,"exports"],[7,31,10,0],[8,4,10,0,"enumerable"],[8,14,10,0],[9,4,10,0,"get"],[9,7,10,0],[9,18,10,0,"get"],[9,19,10,0],[10,6,10,0],[10,13,10,0,"parseAppTransactionPayload"],[10,39,10,0],[11,4,10,0],[12,2,10,0],[13,2,3,0],[13,6,3,0,"_utilsDebugJs"],[13,19,3,0],[13,22,3,0,"require"],[13,29,3,0],[13,30,3,0,"_dependencyMap"],[13,44,3,0],[14,2,5,0],[15,0,6,0],[16,0,7,0],[17,0,8,0],[18,0,9,0],[19,2,10,7],[19,8,10,13,"parseAppTransactionPayload"],[19,34,10,39],[19,37,10,42,"payload"],[19,44,10,49],[19,48,10,53],[20,4,11,2],[20,8,11,6],[21,6,12,4],[21,12,12,10,"raw"],[21,15,12,13],[21,18,12,16,"JSON"],[21,22,12,20],[21,23,12,21,"parse"],[21,28,12,26],[21,29,12,27,"payload"],[21,36,12,34],[21,37,12,35],[22,6,13,4],[22,10,13,8,"raw"],[22,13,13,11],[22,17,13,15],[22,21,13,19],[22,25,13,23],[22,32,13,30,"raw"],[22,35,13,33],[22,40,13,38],[22,48,13,46],[22,50,13,48],[23,8,14,6],[23,15,14,13],[23,19,14,17],[24,6,15,4],[25,6,16,4],[25,12,16,10,"appId"],[25,17,16,15],[25,20,16,18,"Number"],[25,26,16,24],[25,27,16,25,"raw"],[25,30,16,28],[25,31,16,29,"appId"],[25,36,16,34],[25,37,16,35],[26,6,17,4],[26,12,17,10,"appVersionId"],[26,24,17,22],[26,27,17,25,"Number"],[26,33,17,31],[26,34,17,32,"raw"],[26,37,17,35],[26,38,17,36,"appVersionId"],[26,50,17,48],[26,51,17,49],[27,6,18,4],[27,12,18,10,"originalPurchaseDate"],[27,32,18,30],[27,35,18,33,"Number"],[27,41,18,39],[27,42,18,40,"raw"],[27,45,18,43],[27,46,18,44,"originalPurchaseDate"],[27,66,18,64],[27,67,18,65],[28,6,19,4],[28,12,19,10,"signedDate"],[28,22,19,20],[28,25,19,23,"Number"],[28,31,19,29],[28,32,19,30,"raw"],[28,35,19,33],[28,36,19,34,"signedDate"],[28,46,19,44],[28,47,19,45],[29,6,20,4],[29,10,20,8,"Number"],[29,16,20,14],[29,17,20,15,"isNaN"],[29,22,20,20],[29,23,20,21,"appId"],[29,28,20,26],[29,29,20,27],[29,33,20,31,"Number"],[29,39,20,37],[29,40,20,38,"isNaN"],[29,45,20,43],[29,46,20,44,"appVersionId"],[29,58,20,56],[29,59,20,57],[29,63,20,61,"Number"],[29,69,20,67],[29,70,20,68,"isNaN"],[29,75,20,73],[29,76,20,74,"originalPurchaseDate"],[29,96,20,94],[29,97,20,95],[29,101,20,99,"Number"],[29,107,20,105],[29,108,20,106,"isNaN"],[29,113,20,111],[29,114,20,112,"signedDate"],[29,124,20,122],[29,125,20,123],[29,127,20,125],[30,8,21,6],[30,15,21,13],[30,19,21,17],[31,6,22,4],[32,6,23,4],[32,12,23,10,"preorderDateRaw"],[32,27,23,25],[32,30,23,28,"raw"],[32,33,23,31],[32,34,23,32,"preorderDate"],[32,46,23,44],[33,6,24,4],[33,12,24,10,"preorderDate"],[33,24,24,22],[33,27,24,25,"preorderDateRaw"],[33,42,24,40],[33,46,24,44],[33,50,24,48],[33,53,24,51],[33,57,24,55],[33,60,24,58,"Number"],[33,66,24,64],[33,67,24,65,"preorderDateRaw"],[33,82,24,80],[33,83,24,81],[34,6,25,4],[34,13,25,11],[35,8,26,6,"appId"],[35,13,26,11],[36,8,27,6,"appTransactionId"],[36,24,27,22],[36,26,27,24],[36,33,27,31,"raw"],[36,36,27,34],[36,37,27,35,"appTransactionId"],[36,53,27,51],[36,58,27,56],[36,66,27,64],[36,69,27,67,"raw"],[36,72,27,70],[36,73,27,71,"appTransactionId"],[36,89,27,87],[36,92,27,90],[36,96,27,94],[37,8,28,6,"appVersion"],[37,18,28,16],[37,20,28,18],[37,27,28,25,"raw"],[37,30,28,28],[37,31,28,29,"appVersion"],[37,41,28,39],[37,46,28,44],[37,54,28,52],[37,57,28,55,"raw"],[37,60,28,58],[37,61,28,59,"appVersion"],[37,71,28,69],[37,74,28,72],[37,76,28,74],[38,8,29,6,"appVersionId"],[38,20,29,18],[39,8,30,6,"bundleId"],[39,16,30,14],[39,18,30,16],[39,25,30,23,"raw"],[39,28,30,26],[39,29,30,27,"bundleId"],[39,37,30,35],[39,42,30,40],[39,50,30,48],[39,53,30,51,"raw"],[39,56,30,54],[39,57,30,55,"bundleId"],[39,65,30,63],[39,68,30,66],[39,70,30,68],[40,8,31,6,"deviceVerification"],[40,26,31,24],[40,28,31,26],[40,35,31,33,"raw"],[40,38,31,36],[40,39,31,37,"deviceVerification"],[40,57,31,55],[40,62,31,60],[40,70,31,68],[40,73,31,71,"raw"],[40,76,31,74],[40,77,31,75,"deviceVerification"],[40,95,31,93],[40,98,31,96],[40,100,31,98],[41,8,32,6,"deviceVerificationNonce"],[41,31,32,29],[41,33,32,31],[41,40,32,38,"raw"],[41,43,32,41],[41,44,32,42,"deviceVerificationNonce"],[41,67,32,65],[41,72,32,70],[41,80,32,78],[41,83,32,81,"raw"],[41,86,32,84],[41,87,32,85,"deviceVerificationNonce"],[41,110,32,108],[41,113,32,111],[41,115,32,113],[42,8,33,6,"environment"],[42,19,33,17],[42,21,33,19],[42,28,33,26,"raw"],[42,31,33,29],[42,32,33,30,"environment"],[42,43,33,41],[42,48,33,46],[42,56,33,54],[42,59,33,57,"raw"],[42,62,33,60],[42,63,33,61,"environment"],[42,74,33,72],[42,77,33,75],[42,79,33,77],[43,8,34,6,"originalAppVersion"],[43,26,34,24],[43,28,34,26],[43,35,34,33,"raw"],[43,38,34,36],[43,39,34,37,"originalAppVersion"],[43,57,34,55],[43,62,34,60],[43,70,34,68],[43,73,34,71,"raw"],[43,76,34,74],[43,77,34,75,"originalAppVersion"],[43,95,34,93],[43,98,34,96],[43,100,34,98],[44,8,35,6,"originalPlatform"],[44,24,35,22],[44,26,35,24],[44,33,35,31,"raw"],[44,36,35,34],[44,37,35,35,"originalPlatform"],[44,53,35,51],[44,58,35,56],[44,66,35,64],[44,69,35,67,"raw"],[44,72,35,70],[44,73,35,71,"originalPlatform"],[44,89,35,87],[44,92,35,90],[44,96,35,94],[45,8,36,6,"originalPurchaseDate"],[45,28,36,26],[46,8,37,6,"preorderDate"],[46,20,37,18],[46,22,37,20,"preorderDate"],[46,34,37,32],[46,38,37,36],[46,42,37,40],[46,46,37,44],[46,47,37,45,"Number"],[46,53,37,51],[46,54,37,52,"isNaN"],[46,59,37,57],[46,60,37,58,"preorderDate"],[46,72,37,70],[46,73,37,71],[46,76,37,74,"preorderDate"],[46,88,37,86],[46,91,37,89],[46,95,37,93],[47,8,38,6,"signedDate"],[48,6,39,4],[48,7,39,5],[49,4,40,2],[49,5,40,3],[49,6,40,4],[49,13,40,11,"error"],[49,18,40,16],[49,20,40,18],[50,6,41,4,"RnIapConsole"],[50,19,41,16],[50,20,41,16,"RnIapConsole"],[50,32,41,16],[50,33,41,17,"warn"],[50,37,41,21],[50,38,41,22],[50,92,41,76],[50,94,41,78,"error"],[50,99,41,83],[50,100,41,84],[51,6,42,4],[51,13,42,11],[51,17,42,15],[52,4,43,2],[53,2,44,0],[53,3,44,1],[54,0,44,2],[54,3]],"functionMap":{"names":["<global>","parseAppTransactionPayload"],"mappings":"AAA;0CCS;CDkC"},"hasCjsExports":false},"type":"js/module"}]}